---
title: Development
---

To begin local development, you'll need a copy of the code and a local database.

### 1. Clone the repository

```bash
git clone https://github.com/ndom91/briefkasten
cd briefkasten
```

### 2. Dependencies

```bash
pnpm install
```

### 3. Environment variables

```bash
cp .env.example .env
vim .env
```

Now that you have the `.env` file open in an editor, you'll want to modify the following values:

| Variable          | Value                                                                    |
| :---------------- | :----------------------------------------------------------------------- |
| `DATABASE_URL`    | `postgres://username:password@localhost:5432/postgres`                   |
| `NEXTAUTH_URL`    | Set to your current local development URL (i.e. `http://localhost:3000`) |
| `NEXTAUTH_SECRET` | Set to the output of `openssl rand -hex 32`                              |

If you want to setup an OAuth login provider, you will need to add the appropriate environment variables. Like `GITHUB_ID`/`GITHUB_SECRET` for the GitHub provider. Please see the [Auth.js docs](https://authjs.dev) for more details.

### 4. Database

To develop the application locally, we'll want to mirro the production version as closely as possible and for that we'll need a postgres database. Check out the `postgres` service in the `docker-compose.yml` file in the root of the `ndom91/briefkasten` repository. We can bring up that database with the following command.

```bash
docker-compose up -d postgres
```

Next, once the database container is up and running, we need to run the initial prisma migrations to apply our schema to the database.

```bash
pnpx prisma migrate dev
# or
npx prisma migrate
```

### 5. Start dev server

Once you've got the database prepared and all dependencies installed, we can start the dev server.

```bash
pnpm dev
```

<Callout>
Prisma comes with a little development database viewer, which is available via the npm script `db:studio`, meaning you can start it by running:

```bash
pnpm db:studio
```

</Callout>
